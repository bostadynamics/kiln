<div class="temp-display" data-pv="{{ pv }}" data-pattern="{{ pattern }}">
    <div class="temp-item">
        <span class="label">Current Temp.</span>
        <div>
            <span id="pv-value" class="value" style="color: {{ pv_color }}">{{ "%.1f"|format(pv) }}</span>
            <span class="unit">°C</span>
        </div>
    </div>
    <div class="temp-item">
        <span class="label">Target Temp.</span>
        <div>
            <span id="sv-value" class="value" style="color: #22c55e">{{ "%.1f"|format(setpoint) }}</span>
            <span class="unit">°C</span>
        </div>
    </div>
</div>

<div class="bars-container">
    <div class="bar-item">
        <div class="bar-header">
            <span>Output 1</span>
            <span id="out1-text">{{ output1 }}%</span>
        </div>
        <div class="progress-track">
            <div id="out1-bar" class="progress-fill" style="width: {{ output1 }}%"></div>
        </div>
    </div>

    <div class="bar-item">
        <div class="bar-header">
            <span>Output 2</span>
            <span id="out2-text">{{ output2 }}%</span>
        </div>
        <div class="progress-track">
            <div id="out2-bar" class="progress-fill out2" style="width: {{ output2 }}%"></div>
        </div>
    </div>
</div>

<div class="status-info"
    style="margin-top: 2rem; display: flex; justify-content: space-between; background: #252525; padding: 1rem; border-radius: 8px;">
    <div style="text-align: center;">
        <div class="label" style="font-size: 0.75rem;">Pattern</div>
        <div id="pattern-container" style="cursor: pointer;"
            onclick="document.getElementById('pattern-display').style.display='none'; document.getElementById('pattern-select').style.display='block'; document.getElementById('pattern-select').focus();">
            <div id="pattern-display" style="font-size: 1.25rem; font-weight: 600;">{{ pattern }}</div>
            <select id="pattern-select" name="value"
                style="display: none; font-size: 1rem; background: #333; color: white; border: 1px solid #555; border-radius: 4px;"
                hx-post="/pattern_start/update" hx-target="#dashboard-container" hx-trigger="change"
                onblur="this.style.display='none'; document.getElementById('pattern-display').style.display='block';">
                {% for i in range(8) %}
                <option value="{{ i }}" {% if i==start_pattern %}selected{% endif %}>{{ i }}</option>
                {% endfor %}
            </select>
        </div>
    </div>
    <div style="text-align: center;">
        <div class="label" style="font-size: 0.75rem;">Step</div>
        <div id="step-container" style="cursor: pointer;"
            onclick="document.getElementById('step-display').style.display='none'; document.getElementById('step-select').style.display='block'; document.getElementById('step-select').focus();">
            <div id="step-display" style="font-size: 1.25rem; font-weight: 600;">{{ step }}</div>
            <select id="step-select" name="value"
                style="display: none; font-size: 1rem; background: #333; color: white; border: 1px solid #555; border-radius: 4px;"
                hx-post="/pattern/{{ pattern }}/actual-steps/update" hx-target="#dashboard-container"
                hx-trigger="change"
                onblur="this.style.display='none'; document.getElementById('step-display').style.display='block';">
                {% for i in range(8) %}
                <option value="{{ i }}" {% if i==actual_steps %}selected{% endif %}>{{ i }}</option>
                {% endfor %}
            </select>
        </div>
    </div>
    <div style="text-align: center;">
        <div class="label" style="font-size: 0.75rem;">Time Left</div>
        <div style="font-size: 1.25rem; font-weight: 600;">{{ time_left }}</div>
    </div>
</div>